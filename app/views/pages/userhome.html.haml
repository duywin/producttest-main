!!!
%html{:lang => "en"}
  %head
    %meta{:content => "text/html; charset=UTF-8", "http-equiv" => "Content-Type"}/
    %title Home
    - if session[:welcome_alert_shown]
      = javascript_tag do
        alert('Welcome, #{@account.username if @account}!');
        - session.delete(:welcome_alert_shown)
  %body
    .jumbotron.text-center.app-color
      %h1 SWE-Commerce
    %nav.navbar.navbar-expand-lg.navbar-light.app-color.topnav{:style => "margin-top: -10px"}
      .container-fluid
        %button.navbar-toggler{"aria-controls" => "navbarNavDropdown", "aria-expanded" => "false", "aria-label" => "Toggle navigation", "data-bs-target" => "#navbarNavDropdown", "data-bs-toggle" => "collapse", :type => "button"}
          %span.navbar-toggler-icon
        #navbarNavDropdown.collapse.navbar-collapse
          %ul.navbar-nav.w-100.justify-content-around
            %li.nav-item.active.flex-fill
              %a.nav-link{:href => users_home_path} Home
            %li.nav-item.flex-fill
              %a.nav-link{:href => shop_path} Shop
            %li.nav-item.flex-fill
              %a.nav-link{:href => about_us_path} About Us
            %li.nav-item.flex-fill
              - if @account
                %a.nav-link{:href => my_account_path} My account
              - else
                %a.nav-link{:href => new_account_session_path} Sign In
    .content
      %h3{:style => "color: lightblue; font-weight: bold; text-align: center;"} Our top recommendation
      / Bootstrap 5 Carousel
      .container
        #productCarousel.carousel.slide{"data-bs-ride" => "carousel"}
          .carousel-indicators
            - @random_products.each_with_index do |product, index|
              %button{"aria-current" => "#{'true' if index == 0}", "aria-label" => "Slide #{index + 1}", :class => "#{'active' if index == 0}", "data-bs-slide-to" => index, "data-bs-target" => "#productCarousel", :type => "button"}
          .carousel-inner
            - @random_products.each_with_index do |product, index|
              %div{:class => "carousel-item #{'active' if index == 0}"}
                = image_tag(product.picture, alt: product.name)
                .carousel-caption.d-none.d-md-block
                  %h3= product.name
          %button.carousel-control-prev{"data-bs-slide" => "prev", "data-bs-target" => "#productCarousel", :type => "button"}
            %span.carousel-control-prev-icon{"aria-hidden" => "true"}
            %span.visually-hidden Previous
          %button.carousel-control-next{"data-bs-slide" => "next", "data-bs-target" => "#productCarousel", :type => "button"}
            %span.carousel-control-next-icon{"aria-hidden" => "true"}
            %span.visually-hidden Next
    .custom-footer
      %p Â© Your satisfaction is our priority
